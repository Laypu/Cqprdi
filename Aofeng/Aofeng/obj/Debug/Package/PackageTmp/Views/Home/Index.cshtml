@using Oaww.Entity;
@using Oaww.ViewModel;
@using Oaww.Utility;
@{
    Layout = null;
    #region SEO
    SEO SEO = (SEO)ViewBag.SEO;

    string KeyWord = string.Empty;

    for (int i = 1; i <= 10; i++)
    {
        string value = SEO.GetType().GetProperty("Keywords" + i.ToString()).GetValue(SEO, null)?.ToString();
        if (!value.IsNullOrEmpty())
        {
            KeyWord = KeyWord + "," + value;
        }
    }

    KeyWord = KeyWord.TrimStart(',');

    #endregion

    #region GA
    SiteFlow siteFlow = (SiteFlow)ViewBag.SiteFlow;


    #endregion

    SiteLayout siteLayout = CommonRazorFunctions.GetSiteLayout();

}

@model HomeViewModel
<!doctype html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="all" />
    <title>@SEO.Title</title>
    <meta name="title" content="@SEO.Title" />
    @if (!SEO.Description.IsNullOrEmpty())
    {
        <meta name="description" content="@SEO.Description" />
    }
    @if (!KeyWord.IsNullOrEmpty())
    {
        <meta name="keywords" content="@KeyWord" />
    }
    <meta name="copyright" content="© 2020 @SEO.Title" />
    <link rel="shortcut icon" type="image/png" href="~/favicon.png">

    <!-- OG -->
    <meta property="fb:app_id" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:title" content="澳豐科技股份有限公司">
    <meta property="og:description" content="">
    <meta property="og:image" content="">

    <!-- MOBILE METAS -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- CSS -->
    <link href="~/Scripts/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link href="~/Scripts/owlcarousel/assets/owl.theme.default.css" rel="stylesheet" />
    <link href="~/Content/front/main.css" rel="stylesheet" />
</head>

<body class="inx">

    <div class="loadbar"></div>

    <div id="wrapper">

        <!--header-->
        @Html.Partial("~/Views/Shared/_Header.cshtml")

        <!--content-->
        <div id="content">

            <!--top_banner-->
            <div class="top_banner peload">
                <ul class="owl-carousel owl-theme">
                    @foreach (var m in Model.ListMainRoller)
                    {
                        if (m.UploadVideoFilePath.IsNullOrEmpty() == false) //影片
                        {
                            <li>
                                <div class="pic video" data-videosrc="@Url.Content("~"+m.UploadVideoFilePath)"></div>
                                <div class="inner-width">
                                    <div class="txt">
                                        <h2>@Html.Raw(m.AD_Name.Replace(Environment.NewLine, "<br/>"))</h2>
                                        <p>@m.ADDesc</p>
                                        <div class="more_bar center">
                                            @if (m.Link_Href.IsNullOrEmpty() == false)
                                            {
                                                <a href="@m.Link_Href" target="@(m.Link_Mode=="1"?"_self":"_blank")" class="btn_more">More <i class="fa fa-external-link" aria-hidden="true"></i></a>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </li>
                        }
                        else //圖片
                        {
                            <li>
                                <div class="pic imgLiquidFill"><img src="@Url.Content("~/UploadImage/ADMain/"+m.Img_Name_Ori)" alt=""></div>
                                <div class="inner-width">
                                    <div class="txt">
                                        <h2>@Html.Raw(m.AD_Name.Replace(Environment.NewLine, "<br/>"))</h2>
                                        <p>@m.ADDesc</p>
                                        <div class="more_bar center">
                                            @if (m.Link_Href.IsNullOrEmpty() == false)
                                            {
                                                <a href="@m.Link_Href" target="@(m.Link_Mode=="1"?"_self":"_blank")" class="btn_more">More <i class="fa fa-external-link" aria-hidden="true"></i></a>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </li>
                        }
                    }

                </ul>
            </div>

            <!--inx_pro_box-->
            <div class="inx_pro_box">
                <div class="inner-width">
                    <ul>
                        @foreach (var m in Model.ListThemeAD)
                        {
                            <li>
                                <a href="@m.Link_Href">
                                    <div class="pic imgLiquidFill"><img src="@Url.Content("~/UploadImage/ADMain/"+m.Img_Name_Ori)" alt="@m.AD_Name"></div>
                                    <div class="title">
                                        <h3>
                                            <span>@m.AD_Name</span>
                                            @Html.Raw(m.ADDesc.Replace(Environment.NewLine, "<br/>"))
                                        </h3>
                                        <div class="more">more</div>
                                    </div>
                                </a>
                            </li>
                        }
                    </ul>
                    <div class="clear"></div>
                </div>
            </div>

            <!--inx_news_box-->
            <div class="inx_news_box">
                <div class="bg">
                    <div class="pic imgLiquidFill"><img src="@Url.Content("~/UploadImage/ADMain/"+Model.DynamicNews.Img_Name_Ori)" alt=""></div>
                </div>
                <div class="inner-width">
                    <div class="main">
                        <div class="title_bar page">
                            <h2>@Model.DynamicNews.AD_Name</h2>
                        </div>
                        <ul>
                            @{
                                string NewsMid = System.Configuration.ConfigurationManager.AppSettings["NewsMid"];
                            }
                            @foreach (var m in Model.ListNews)
                            {
                                <li>
                                    <a href="@Url.Action("MessageView","Message",new {@itemid=m.ItemID,mid=NewsMid,GroupName=m.GroupName })">
                                        <div class="date">
                                            <b>@(m.PublicshDate.HasValue ? m.PublicshDate.Value.Day.ToString() : "")</b>
                                            <span>@(m.PublicshDate.HasValue ? m.PublicshDate.Value.ToString("MMM", System.Globalization.CultureInfo.CreateSpecificCulture("en-US")) : "")</span>
                                        </div>
                                        <div class="txt">
                                            <h3>@m.Title</h3>
                                            <p>
                                                @m.Introduction
                                            </p>
                                        </div>
                                        <div class="clear"></div>
                                    </a>
                                </li>
                            }
                        </ul>
                        <div class="more_bar center">
                            <a href="@Model.DynamicNews.Link_Href" class="btn_more">more</a>
                        </div>
                    </div>
                </div>
                <div class="clear"></div>
            </div>

            <!--inx_about_box-->
            <div class="inx_about_box">
                <div class="inner-width">
                    <div class="cover">
                        <video controls width="100%">
                            <source src="@Url.Content("~/"+Model.ThemeKanban.UploadVideoFilePath)" type="video/mp4">
                            Sorry, your browser doesn't support embedded videos.
                        </video>
                    </div>

                    <div class="txt">
                        <div class="bg"></div>
                        <h3>

                            @Model.ThemeKanban.AD_Name
                        </h3>
                        <p>@Model.ThemeKanban.ADDesc</p>
                        <div class="more_bar">
                            <a href="@(Model.ThemeKanban.Link_Href.IsNullOrEmpty()?"#":Model.ThemeKanban.Link_Href)" class="btn_more">more</a>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>

            <!--inx_spo_box-->
            <div class="inx_spo_box">
                <div class="inner-width">
                    <ul class="owl-carousel owl-theme">
                        @foreach (var m in Model.ListIcon)
                        {
                            <li><a href="@(m.Link_Href.IsNullOrEmpty()?"#":m.Link_Href)"><img src="@Url.Content("~/UploadImage/AdMain/"+m.Img_Name_Ori)" alt="@m.AD_Name"></a></li>
                        }
                    </ul>
                    <div class="clear"></div>
                </div>
            </div>
        </div>

        @Html.Partial("~/Views/Shared/_Footer.cshtml")

    </div>

    <!--BASE-->
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/libs/jquery.easing.min.js"></script>
    <script src="~/Scripts/libs/imgLiquid-min.js"></script>
    <script src="~/Scripts/libs/iscroll-probe.min.js"></script>

    <!--scrollmagic-->
    <script src="~/Scripts/libs/highlight.pack.js"></script>
    <script src="~/Scripts/libs/modernizr.custom.min.js"></script>
    <script src="~/Scripts/libs/greensock/TweenMax.min.js"></script>
    <script src="~/Scripts/scrollmagic/minified/ScrollMagic.min.js"></script>
    <script src="~/Scripts/scrollmagic/minified/plugins/animation.gsap.min.js"></script>
    <script src="~/Scripts/scrollmagic/minified/plugins/debug.addIndicators.min.js"></script>
    <script src="~/Scripts/libs/iscroll-probe.min.js"></script>

    <!--PhotoSwipe-->
    <link rel="stylesheet" href="~/Scripts/PhotoSwipe/photoswipe.css">
    <link rel="stylesheet" href="~/Scripts/PhotoSwipe/default-skin.css">
    <script src="~/Scripts/PhotoSwipe/photoswipe.min.js"></script>
    <script src="~/Scripts/PhotoSwipe/photoswipe-ui-default.min.js"></script>
    @Html.Action("Pswp_box", "Empty")

    <!-- owl.carousel -->
    <script src="~/Scripts/owlcarousel/owl.carousel.min.js"></script>

    <!-- custom -->
    <script src="~/Scripts/effect.js"></script>
    <!-- 針對 IE10 版本以前使用者顯示 Chrome 安裝提示 -->
    <!--[if lte IE 9 ]>
    <script>
        $body.attr({style:"overflow: hidden !important; background-attachment: fixed !important;"});
    </script>
    <div class="ie">
        <p><img src="images/old.png" alt=""/></p>
        <h3>您瀏覽器版本太舊了</h3>
        <h5>Windows 使用者請更新IE到最新版本</h5>
        <p>推薦使用 <a href="http://www.google.com/intl/zh-TW/chrome/" target="_blank">google chrome 瀏覽器</a></p>
    </div>
    <![endif]-->
</body>
</html>

<script type="text/javascript">
    $().ready(function () {
        if ($('#left_block').length == 0) {
            $('#main_block').addClass('full');
        }
    })
</script>